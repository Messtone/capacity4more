<?php
/**
 * @file
 * Unit tests for the c4m_og_vocab module.
 */

class C4mOgVocabUnit extends DrupalUnitTestCase {
  /**
   * Get the test info.
   *
   * @return array
   */
  public static function getInfo() {
    return array(
      'name' => 'c4m - Group Vocabulary unit tests',
      'description' => 'Tests the functionality that does not require full install.',
      'group' => 'capacity4more - og',
    );
  }

  /**
   * Test filling strings with node entity information.
   */
  public function testC4mOgVocabFillString() {
    $node = new stdClass();
    $node->nid = 5;
    $node->type = 'group';

    $string   = 'Test node [node:nid] string for node type [node:type] (nid:[node:nid])';
    $expected = 'Test node 5 string for node type group (nid:5)';

    $result = c4m_og_vocab_fill_string($node, $string);
    $this->assertEqual($result, $expected, 'Variables should be filled in properly.');
  }
}